#include <iostream>
#include <vector>

class BearDartsDiv2
{
public:
    long count(std::vector<int>& w);
};


long BearDartsDiv2::count(std::vector<int>& w)
{
    long int ways = 0;

    for(int d = w.size() - 1; d >= 3; --d)
    {
        int d_val = w[d];
        for(int c = d - 1; c >= 2; --c)
        {
            int c_val = w[c];
            if(c_val > d_val) continue;
            for(int b = c - 1; b >= 1; --b)
            {
                int b_val = w[b];
                if(b_val > d_val) continue;
                for(int a = b - 1; a >= 0; --a)
                {
                    int a_val = w[a];
                    if(a_val > d_val) continue;
                    if(a_val * b_val * c_val == d_val)
                    {
                        ++ways;
                    }
                }
            }
        }
    }
    return ways;
}


int main(int argc, char* argv[])
{
    std::vector<int> t{10,2,2,7,40,160};
    BearDartsDiv2 bdd;
    std::cout << "Count: " << bdd.count(t) << std::endl;

    std::vector<int> t2{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1};

    std::cout << "Count: " << bdd.count(t2) << std::endl;

    std::vector<int> t3{2,3,4,5,6,8,12,16,20,24,40,24,20,16,12,8,6,5,4,3,2};
    std::cout << "Count: " << bdd.count(t3) << std::endl;

    return 0;
}
